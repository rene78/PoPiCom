<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PopPics</title>
</head>

<body>
  <script>
    async function getPics() {
      let url = "https://commons.wikimedia.org/w/api.php?";

      const params = {
        action: "query",
        list: "logevents",
        letype: "upload",
        leprop: "title|timestamp|ids", //what type of data to return
        lelimit: "5", //number of pictures to return. Max is 500
        leuser: "Renek78", //user from whom to get picture data
        format: "json", //format of returned file
        origin: "*" //CORS
      };

      Object.keys(params).forEach(function (key) { url += "&" + key + "=" + params[key]; });
      console.log(url);

      fetch(url)
        .then(response => response.json())
        .then(response => { console.log(response.query.logevents); })
        .catch(error => { console.log(error); });

      // const response = await fetch(url);
      // return await response.json();

    }
    getPics();
    // async function asyncCall() {
    //   console.log('calling');
    //   const result = await getPics();
    //   // console.log(result);
    //   return result;
    //   // expected output: 'resolved'
    // }

    // let firstValue = asyncCall().then(response => console.log(response));

  </script>
</body>

</html>